# 🧐 2단계 - 렌더링 방식의 분석

## ✅ 체크리스트

### 렌더링 시점 비교

제가 선택한 방식으로 구현한 경우에는 프로젝트 로드 초기에 로딩 페이지를 띄울 수 있습니다.

CSR의 경우에는 빈 html 파일에서 시작한 후, js bundle이 수신될 때 까지 아무것도 그릴 수 없습니다.
하지만 SSG의 경우에는 이미 빌드 시점에 html 파일을 어느 정도 만들고 시작합니다.
제 프로젝트의 경우에는 React Wrapper가 초기 렌더링 할 `로딩 페이지`를 그리도록 유도하므로 로딩 페이지가 이미 완성된 상태로 빌드됩니다.
(하지만 styled-components가 빠져있어 css가 적용되어 있지 않은 상태입니다.)
따라서 css in js 사용을 피한다면 조금 더 빠르면서 디자인이 입혀진 로딩 페이지를 보여줄 수 있을 것입니다.

### 사용자 경험(UX) 측면 분석

제가 생각하기에는 저희 서비스에서 지도가 로드되기 이전에 아무것도 할 수 없다는 것이 가장 큰 문제인 것 같습니다. 자바스크립트 파일이 로드되더라도 그 이후에 react wrapper의 js-loader가 지도 라이브러리를 뒤늦게 수신할 수 있으므로 렌더링 방식 변경이 사용자 경험 개선에 큰 도움이 될 것 같지는 않는다고 생각했습니다.

제 생각에는 페이지를 사용하는 구조(데이터가 자주 바뀌는 페이지)에서는 SSG를 적극 도입하는 경우 관련 정보들을 미리 렌더링할 수 있다고 생각합니다.

특히 게시판 같은 사이트에서는 빌드 시점에서 이미 페이지로 진입할 수 있는 api로부터 id를 미리 얻어내고, 해당 정보를 바탕으로 다음 상세 페이지들을 pre-rendering 했을 때 많은 이점을 봤을 것 같아요.  [generateStaticParams를 활용했다면 SSG의 강점](https://nextjs.org/docs/app/building-your-application/routing/dynamic-routes#generating-static-params)을 최대한 살려서 사용자 경험 또한 아주 많이 개선되었을 것이라고 생각합니다.

저희 팀 서비스는 페이지의 개념이 없기도 하고 접속하는 위치에 따라 정보를 보여주다 보니 미리 렌더링 한다는 개념이 전혀 의미가 없는 수준이라  이러한 시도를 해보지 못해서 너무 아쉬웠지만, 전형적인 웹 사이트를 구현한다면 `빌드 된 파일이 특정한 시점에만 업데이트` 되는 ISR 형태로 구현해봤을 것 같아요.

### 성능 측정 및 비교

성능 측정을 하기 위해 기존 서비스를 거의 그대로 마이그레이션한 상태입니다.

테스트를 하기 위해 크롬의 퍼포먼스 탭을 활용하였습니다.

[기존]
<img width="394" alt="image" src="https://github.com/woowacourse/frontend-rendering/assets/69189073/d942883a-98fa-46b4-88a7-a20b5d882e2f">

[next js 13]
<img width="419" alt="image" src="https://github.com/woowacourse/frontend-rendering/assets/69189073/5d752383-c4b6-4b68-a859-5cbafd5f2d0f">

언제나 렌더링에서 SSG가 이점을 보이긴 하지만, 그 시간이 크게 차이가 나지 않아 체감하기 어려웠습니다.

(이것은 저희 서비스가 굉장히 동적이기 때문일 것입니다)




시간이 부족해서 너무 대충 적은 것 같네요 ㅠㅠ
좋은 리뷰 감사합니다.

